!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){a(1),t.exports=a(4)},function(t,e,a){const i=a(2);window.vcustomCheckout=new i("vertical",!0,!0),vcustomCheckout.export()},function(t,e,a){const{_locale:i}=a(3);t.exports=class{constructor(t="vertical",e=!0,a=!0){this.type=t,this.orderForm="",this.orderId=this.orderForm?this.orderForm.orderFormId:"",this.lang="",this.accordionPayments=e,this.deliveryDateFormat=a}general(){$(".custom-cart-template-wrap").length||$(".cart-template.mini-cart .cart-fixed > *").wrapAll('<div class="custom-cart-template-wrap">'),$(".table.cart-items tbody tr.product-item").each((function(t){if($(this).find(".v-custom-product-item-wrap").length>0)return!1;$(this).find("> *").wrapAll('<div class="v-custom-product-item-wrap">')}))}builder(){let t=this;"vertical"==this.type?t.buildVertical():"horizontal"==this.type?t.buildHorizontal():console.error("No `type` identified, check your code")}buildVertical(){$("body").addClass("body-cart-vertical"),$(".cart-template .cart-links-bottom:eq(0)").appendTo(".cart-template > .summary-template-holder"),$(".cart-template .cart-more-options:eq(0), .cart-template .extensions-checkout-buttons-container").appendTo(".cart-template-holder")}buildHorizontal(){}checkEmpty(t){0==t.length?$("body").addClass("v-custom-cart-empty"):$("body").removeClass("v-custom-cart-empty")}addEditButtoninLogin(){$("#v-custom-edit-login-data").remove(),$(".client-pre-email h3.client-pre-email-h span").append(`\n      <a id="v-custom-edit-login-data" class="link-box-edit btn btn-small" style="" title="${!this.lang||this.lang.editLabel}">\n        <i class="icon-edit"></i>\n        <i class="icon-spinner icon-spin icon-3x"></i>\n      </a>\n    `)}addStepsHeader(){if($(".checkout-steps").length>0)return!1;$(".container.container-main").before('\n      <div class="checkout-steps container-cart container">\n        <div class="checkout-steps-wrap">\n          <span class="checkout-steps_bar">\n            <span class="checkout-steps_bar_inner"></span>\n            <span class="checkout-steps_bar_inner-active"></span>\n          </span>\n          <div class="checkout-steps_items">\n            <span class="checkout-steps_item checkout-steps_item_cart">\n              <span class="text">Cart</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_identification">\n              <span class="text">Identification</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_shipping">\n              <span class="text">Shipping</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_payment">\n              <span class="text">Payment</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_confirmation">\n              <span class="text">Confirmation</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    ')}addAssemblies(t){try{$.each(t.items,(function(t){let e=this;if(e.assemblies.length>0){let a='<div class="v-custom-assemblies">';$.each(e.assemblies,(function(t){let e=this.inputValues;a+=`<p>${this.id}</p>`,a+='<ul class="v-custom-assemblies__values">',Object.entries(e).forEach(([t,e])=>{a+=`<li class="v-custom-assemblies__values__item assembly-${t.toLowerCase().replace(/ /g,"-")}">\n                                      <strong>${t}</strong>\n                                      <span>${e.trim()}</span>\n                                    </li>`}),a+="</ul>"})),a+="</div>",$(`.table.cart-items tbody tr.product-item:eq(${t}) .v-custom-assemblies`).remove(),$(`.table.cart-items tbody tr.product-item:eq(${t})`).addClass("v-custom-assemblies-in").find("td.product-name").append(a)}}))}catch(t){}}bundleItems(t){try{$.each(t.items,(function(t){this.bundleItems.length>0?$(`.table.cart-items tbody tr.product-item:eq(${t})`).addClass("v-custom-bundles-in").find("td.product-name"):$(`.table.cart-items tbody tr.product-item:eq(${t})`).removeClass("v-custom-bundles-in")})),$(".table.cart-items tbody tr.item-service").each((function(t){if($(this).find(".v-custom-trservice-wrap").length>0)return!1;$(this).find("> *").wrapAll('<div class="v-custom-trservice-wrap">')}))}catch(t){}}buildMiniCart(t){if(0==t.items.filter(t=>null!=t.parentItemIndex).length)return!1;""!=$(".mini-cart .cart-items").text().trim()&&($(".mini-cart .cart-items").html(""+$(".mini-cart .cart-items").html()),$.each(t.items,(function(t){"available"==this.availability&&$(`.mini-cart .cart-items li:eq(${t})`).find(".item-unavailable").remove()})))}removeMCLoader(){$(".mini-cart .cart-items").addClass("v-loaded")}indexedInItems(t){let e=this;try{if(0==t.items.filter(t=>null!=t.parentItemIndex).length)return e.removeMCLoader(),!1;t.items&&($.each(t.items,(function(t){null!=this.parentItemIndex&&($(`.table.cart-items tbody tr.product-item:eq(${t}), .mini-cart .cart-items li:eq(${t}) `).addClass("v-custom-indexed-item"),$(`.table.cart-items tbody tr.product-item:eq(${this.parentItemIndex}), .mini-cart .cart-items li:eq(${this.parentItemIndex})`).addClass("v-custom-indexedItems-in"),$(".mini-cart .cart-items li").length>0&&$(`.mini-cart .cart-items li:eq(${t})`).appendTo(`.mini-cart .cart-items li:eq(${this.parentItemIndex})`))})),e.removeMCLoader())}catch(t){e.removeMCLoader()}}addBusinessDays(t,e){let a=new Date;a=new Date(a.getTime());let i=a.getDay();return a.setDate(a.getDate()+t+(6===i?2:+!i)+2*Math.floor((t-1+(i%6||1))/5)),e.replace("mm",("0"+(a.getMonth()+1)).slice(-2)).replace("dd",("0"+a.getDate()).slice(-2)).replace("yyyy",a.getFullYear())}changeShippingTimeInfo(){let t=this;if(t.lang&&t.deliveryDateFormat){$("body").addClass("v-custom-changeShippingTimeInfo");let e=[".shp-summary-package-time > span","p.vtex-omnishipping-1-x-sla.sla",".vtex-omnishipping-1-x-leanShippingTextLabelSingle > span","span.shipping-date",".shp-option-text-time"];try{$("\n          .vtex-omnishipping-1-x-summaryPackage.shp-summary-package:not(.v-changeShippingTimeInfo-active), \n          .vtex-omnishipping-1-x-leanShippingOption, \n          .vtex-omnishipping-1-x-packageItem:not(.v-changeShippingTimeInfo-active),\n          .orderform-template .cart-template.mini-cart .item\n        ").each((function(a){let i=parseInt($(this).find(e.map(t=>t+":not(.v-changeShippingTimeInfo-elem-active)").join(", ")).text().match(/\d+/));i&&$(this).find(e.join(", ")).text(`${t.lang.deliveryDateText} ${t.addBusinessDays(i,void 0!==t.lang.dateFormat?t.lang.dateFormat:"dd/mm/yyyy")}`).addClass("v-changeShippingTimeInfo-elem-active"),$(this).addClass("v-changeShippingTimeInfo-active")}))}catch(t){}}}update(t){this.checkEmpty(t.items),this.addAssemblies(t),this.bundleItems(t),this.buildMiniCart(t),this.indexedInItems(t)}updateStep(){let t=["cart","email","profile","shipping","payment"];if($("body").removeClass(t.map(t=>"v-custom-step-"+t).join(" ")),window.location.hash){let e=window.location.hash.split("/")[1];t.find(t=>t==e),$("body").addClass("v-custom-step-"+e)}}updateLang(t){if(this.lang=i[t.storePreferencesData.countryCode],!this.lang)return!1;const e=this.lang;e.editLabel&&$(".link-box-edit").attr("title",e.editLabel),e.cartSubmitButton&&$("#cart-to-orderform").text(e.cartSubmitButton),e.paypalPhone&&$(".payment-paypal-help-number").text(e.paypalPhone),e.paypalImg?$(".payment-paypal-title-short-logo").css("background-image",e.paypalImg):""==e.paypalImg&&$(".payment-paypal-title-short-logo").hide()}paymentBuilder(){if(this.accordionPayments){if($("body").addClass("v-custom-paymentBuilder-accordion"),$(".payment-group-list-btn").find(".v-custom-payment-item-wrap").length>0)return!1;$(".payment-group-item").each((function(t){$(this).wrap(`<div class='v-custom-payment-item-wrap ${$(this).hasClass("active")?"active":""}'></div>`)})),$(".payment-group-item").each((function(t){$("#payment-data .steps-view > div:eq(0)").appendTo($(this).closest(".v-custom-payment-item-wrap"))}))}}bind(){let t=this;$("body").on("click","#v-custom-edit-login-data",(function(e){e.preventDefault(),$(this).addClass("active");var a=new XMLHttpRequest;a.addEventListener("readystatechange",(function(){this.readyState===this.DONE&&(location.reload(),setTimeout((function(){$("#v-custom-edit-login-data").removeClass("active")}),1e3))})),a.open("GET","/checkout/changeToAnonymousUser/"+t.orderForm.orderFormId),a.setRequestHeader("content-type","application/json"),a.setRequestHeader("accept","application/json"),a.send(null)})),$("body").on("click",".v-custom-payment-item-wrap",(function(t){$(".v-custom-payment-item-wrap").removeClass("active"),$(this).addClass("active")}))}init(){let t=this;t.orderForm=!!vtexjs.checkout.orderForm&&vtexjs.checkout.orderForm,t.general(),t.updateStep(),t.addStepsHeader(),t.builder(),t.paymentBuilder(),t.changeShippingTimeInfo(),t.orderForm&&(t.updateLang(t.orderForm),t.addAssemblies(t.orderForm),t.buildMiniCart(t.orderForm),t.indexedInItems(t.orderForm),t.bundleItems(t.orderForm)),t.addEditButtoninLogin()}export(){let t=this;$((function(){t.bind()})),$(document).ajaxComplete((function(){t.init()})),$(window).on("hashchange",(function(){t.updateStep(),t.changeShippingTimeInfo(),t.paymentBuilder(),t.orderForm&&(t.buildMiniCart(t.orderForm),t.indexedInItems(t.orderForm))})),$(window).on("orderFormUpdated.vtex",(function(e,a){t.update(a)}))}}},function(t,e){t.exports._locale={BRA:{editLabel:"Editar",deliveryDateText:"Entrega até",dateFormat:"dd/mm/yyyy"},CAN:{editLabel:"Edit",paypalImg:"",paypalPhone:"1 (888) 221-1161",cartSubmitButton:"Prooced to Payment",deliveryDateText:"Arrives by",dateFormat:"mm/dd/yyyy"},USA:{editLabel:"Edit",paypalImg:"",paypalPhone:"1 (888) 221-1161",cartSubmitButton:"Prooced to Payment",deliveryDateText:"Arrives by",dateFormat:"mm/dd/yyyy"}}},function(t,e,a){t.exports=a.p+"checkout6-custom.css"}]);