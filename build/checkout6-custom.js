!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){i(1),t.exports=i(3)},function(t,e,i){const{_locale:s}=i(2);let n=new class{constructor(){this.type="vertical",this.orderForm="",this.orderId=this.orderForm?this.orderForm.orderFormId:""}general(){$(".custom-cart-template-wrap").length||$(".cart-template.mini-cart .cart-fixed > *").wrapAll('<div class="custom-cart-template-wrap">'),$(".table.cart-items tbody tr.product-item").each((function(t){if($(this).find(".v-custom-product-item-wrap").length>0)return!1;$(this).find("> *").wrapAll('<div class="v-custom-product-item-wrap">')})),$(".link-box-edit").attr("title","Edit")}builder(){let t=this;"vertical"==this.type?t.buildVertical():"horizontal"==this.type?t.buildHorizontal():console.error("No `type` identified, check your code")}buildVertical(){$("body").addClass("body-cart-vertical"),$(".cart-template .cart-links-bottom:eq(0)").appendTo(".cart-template > .summary-template-holder"),$(".cart-template .cart-more-options:eq(0), .cart-template .extensions-checkout-buttons-container").appendTo(".cart-template-holder")}buildHorizontal(){}checkEmpty(t){0==t.length?$("body").addClass("v-custom-cart-empty"):$("body").removeClass("v-custom-cart-empty")}addEditButtoninLogin(){$("#v-custom-edit-login-data").remove(),$(".client-pre-email h3.client-pre-email-h span").append('\n      <a id="v-custom-edit-login-data" class="link-box-edit btn btn-small" style="" title="Edit">\n        <i class="icon-edit"></i>\n        <i class="icon-spinner icon-spin icon-3x"></i>\n      </a>\n    ')}addStepsHeader(){if($(".checkout-steps").length>0)return!1;$(".container.container-main").before('\n      <div class="checkout-steps container-cart container">\n        <div class="checkout-steps-wrap">\n          <span class="checkout-steps_bar">\n            <span class="checkout-steps_bar_inner"></span>\n            <span class="checkout-steps_bar_inner-active"></span>\n          </span>\n          <div class="checkout-steps_items">\n            <span class="checkout-steps_item checkout-steps_item_cart">\n              <span class="text">Cart</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_identification">\n              <span class="text">Login</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_payment">\n              <span class="text">Payment</span>\n            </span>\n            <span class="checkout-steps_item checkout-steps_item_confirmation">\n              <span class="text">Confirmation</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    ')}addAssemblies(t){try{t.items&&$.each(t.items,(function(t){let e=this;if(e.assemblies.length>0){let i='<div class="v-custom-assemblies">';$.each(e.assemblies,(function(t){let e=this.inputValues;i+=`<p>${this.id}</p>`,i+='<ul class="v-custom-assemblies__values">',Object.entries(e).forEach(([t,e])=>{i+=`<li class="v-custom-assemblies__values__item assembly-${t.toLowerCase().replace(/ /g,"-")}">\n                                        <strong>${t}</strong>\n                                        <span>${e.trim()}</span>\n                                      </li>`}),i+="</ul>"})),i+="</div>",$(`.table.cart-items tbody tr.product-item:eq(${t}) .v-custom-assemblies`).remove(),$(`.table.cart-items tbody tr.product-item:eq(${t})`).addClass("v-custom-assemblies-in").find("td.product-name").append(i)}}))}catch(t){}}bundleItems(t){try{t.items&&($.each(t.items,(function(t){this.bundleItems.length>0?$(`.table.cart-items tbody tr.product-item:eq(${t})`).addClass("v-custom-bundles-in").find("td.product-name"):$(`.table.cart-items tbody tr.product-item:eq(${t})`).removeClass("v-custom-bundles-in")})),$(".table.cart-items tbody tr.item-service").each((function(t){if($(this).find(".v-custom-trservice-wrap").length>0)return!1;$(this).find("> *").wrapAll('<div class="v-custom-trservice-wrap">')})))}catch(t){}}buildMiniCart(t){if(t.items){if(0==t.items.filter(t=>null!=t.parentItemIndex).length)return!1;""!=$(".mini-cart .cart-items").text().trim()&&($(".mini-cart .cart-items").html(""+$(".mini-cart .cart-items").html()),$.each(t.items,(function(t){"available"==this.availability&&$(`.mini-cart .cart-items li:eq(${t})`).find(".item-unavailable").remove()})))}}removeMCLoader(){$(".mini-cart .cart-items").addClass("v-loaded")}indexedInItems(t){let e=this;try{if(0==t.items.filter(t=>null!=t.parentItemIndex).length)return e.removeMCLoader(),!1;t.items&&($.each(t.items,(function(t){null!=this.parentItemIndex&&($(`.table.cart-items tbody tr.product-item:eq(${t}), .mini-cart .cart-items li:eq(${t}) `).addClass("v-custom-indexed-item"),$(`.table.cart-items tbody tr.product-item:eq(${this.parentItemIndex}), .mini-cart .cart-items li:eq(${this.parentItemIndex})`).addClass("v-custom-indexedItems-in"),$(".mini-cart .cart-items li").length>0&&$(`.mini-cart .cart-items li:eq(${t})`).appendTo(`.mini-cart .cart-items li:eq(${this.parentItemIndex})`))})),e.removeMCLoader())}catch(t){e.removeMCLoader()}}update(t){this.checkEmpty(t.items),this.addAssemblies(t),this.bundleItems(t),this.buildMiniCart(t),this.indexedInItems(t)}updateStep(){let t=["cart","email","profile","shipping","payment"];if($("body").removeClass(t.map(t=>"v-custom-step-"+t).join(" ")),window.location.hash){let e=window.location.hash.split("/")[1];t.find(t=>t==e),$("body").addClass("v-custom-step-"+e)}}bind(){let t=this;$("body").on("click","#v-custom-edit-login-data",(function(e){e.preventDefault(),$(this).addClass("active");var i=new XMLHttpRequest;i.addEventListener("readystatechange",(function(){this.readyState===this.DONE&&(location.reload(),setTimeout((function(){$("#v-custom-edit-login-data").removeClass("active")}),1e3))})),i.open("GET","/checkout/changeToAnonymousUser/"+t.orderForm.orderFormId),i.setRequestHeader("content-type","application/json"),i.setRequestHeader("accept","application/json"),i.send(null)}))}init(){this.orderForm=vtexjs.checkout.orderForm?vtexjs.checkout.orderForm:"",this.general(),this.updateStep(),this.addStepsHeader(),this.builder(),this.addAssemblies(this.orderForm),this.buildMiniCart(this.orderForm),this.indexedInItems(this.orderForm),this.bundleItems(this.orderForm),this.addEditButtoninLogin()}};$((function(){n.bind()})),$(document).ajaxComplete((function(){n.init(),console.log(">> initx")})),$(window).on("hashchange",(function(){n.updateStep(),n.buildMiniCart(vtexjs.checkout.orderForm),n.indexedInItems(vtexjs.checkout.orderForm),console.log(">> hashx")})),$(window).on("orderFormUpdated.vtex",(function(t,e){n.update(e),console.log(">> updatedx")})),$(window).load((function(){n.init()}))},function(t,e){t.exports._locale=function(){console.log("@@@@@")}},function(t,e,i){t.exports=i.p+"checkout6-custom.css"}]);